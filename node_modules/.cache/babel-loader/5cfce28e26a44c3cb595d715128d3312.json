{"ast":null,"code":"var _jsxFileName = \"/Users/wenjiewu/Desktop/hw6/src/components/Output.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport WordList from \"./WordList\";\nimport RhymeButton from \"./RhymeButton\";\nimport SynonymsButton from \"./SynonymsButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OutputList = () => {\n  _s();\n\n  const [input, setInput] = useState();\n  const [output, setOutput] = useState();\n  const [saved, setSaved] = useState([]);\n\n  function groupBy(objects, property) {\n    if (typeof property !== 'function') {\n      const propName = property;\n\n      property = obj => obj[propName];\n    }\n\n    const groupedObjects = new Map();\n\n    for (const object of objects) {\n      const groupName = property(object);\n\n      if (!groupedObjects.has(groupName)) {\n        groupedObjects.set(groupName, []);\n      }\n\n      groupedObjects.get(groupName).push(object);\n    }\n\n    const result = {};\n\n    for (const key of Array.from(groupedObjects.keys()).sort()) {\n      result[key] = groupedObjects.get(key);\n    }\n\n    return result;\n  }\n\n  ;\n\n  function getRhymeUrl(rel_rhy) {\n    return 'https://api.datamuse.com/words?rel_rhy=' + input;\n  }\n\n  const datamuseRequest = (url, callback) => {\n    setOutput(() => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"...Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 20\n      }, this);\n    });\n    fetch(url).then(response => response.json()).then(data => {\n      callback(data);\n    }, err => {\n      console.error(err);\n    });\n  };\n\n  function generateWords(term) {\n    const wordlist = term.map(words => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [words.word, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToSavedWords(words.word),\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          children: \"(save)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 59\n        }, this), \" \"]\n      }, \"wd\" + words.word, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 20\n      }, this);\n    });\n    return wordlist;\n  }\n\n  const rhyme = result => {\n    const groupOutput = groupBy(result, \"numSyllables\");\n    const wordToShow = [];\n\n    if (result.length !== 0) {\n      wordToShow.push( /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Words that rhyme with \", input, \": \"]\n      }, \"title\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }, this));\n      Object.entries(groupOutput).map((_ref, index) => {\n        let [numSyllables, items] = _ref;\n        // console.log(\"@@@@\",items);\n        wordToShow.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Syllables: \", numSyllables, \" \"]\n          }, 'title' + index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: generateWords(items)\n          }, 'ul' + index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this));\n      });\n    } else {\n      wordToShow.push( /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"(no results)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }, this));\n    }\n\n    setOutput(wordToShow);\n  };\n\n  function addToSavedWords(item) {\n    setSaved(previousList => {\n      // console.log(previousList)\n      return [...previousList, item];\n    });\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(WordList, {\n        wordList: saved\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group col\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          placeholder: \"Enter a word\",\n          onChange: e => {\n            setInput(e.target.value); // console.log(e.target.value);\n          },\n          onKeyDown: e => {\n            if (e.key === \"Enter\") {\n              // console.log(inputWords);\n              // console.log(`https://api.datamuse.com/words?rel_rhy=${inputWords}`);\n              datamuseRequest(getRhymeUrl(input), rhyme);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(RhymeButton, {\n          input: input,\n          rhyme: rhyme,\n          datamuseRequest: datamuseRequest,\n          getRhymeUrl: getRhymeUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SynonymsButton, {\n          input: input,\n          datamuseRequest: datamuseRequest,\n          generate: generateWords,\n          OutputList: setOutput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"col\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"output row\",\n      children: /*#__PURE__*/_jsxDEV(\"output\", {\n        className: \"col\",\n        children: output\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(OutputList, \"tdQId3ILnPneoESyImLPF7WZfo8=\");\n\n_c = OutputList;\nexport default OutputList;\n\nvar _c;\n\n$RefreshReg$(_c, \"OutputList\");","map":{"version":3,"sources":["/Users/wenjiewu/Desktop/hw6/src/components/Output.js"],"names":["useState","WordList","RhymeButton","SynonymsButton","OutputList","input","setInput","output","setOutput","saved","setSaved","groupBy","objects","property","propName","obj","groupedObjects","Map","object","groupName","has","set","get","push","result","key","Array","from","keys","sort","getRhymeUrl","rel_rhy","datamuseRequest","url","callback","fetch","then","response","json","data","err","console","error","generateWords","term","wordlist","map","words","word","addToSavedWords","rhyme","groupOutput","wordToShow","length","Object","entries","index","numSyllables","items","item","previousList","e","target","value"],"mappings":"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","sourcesContent":["import {useState} from 'react';\nimport WordList from \"./WordList\"\nimport RhymeButton from \"./RhymeButton\"\nimport SynonymsButton from \"./SynonymsButton\"\n\nconst OutputList = () => {\n    const [input, setInput] = useState();\n    const [output, setOutput] = useState();\n    const [saved, setSaved] = useState([]);\n\n    function groupBy(objects, property){\n\n        if(typeof property !== 'function') {\n            const propName = property;\n            property = (obj) => obj[propName];\n        }\n\n        const groupedObjects = new Map();\n\n        for(const object of objects) {\n            const groupName = property(object);\n\n            if(!groupedObjects.has(groupName)) {\n                groupedObjects.set(groupName, []);\n            }\n            groupedObjects.get(groupName).push(object);\n        }\n\n\n        const result = {};\n        for(const key of Array.from(groupedObjects.keys()).sort()) {\n            result[key] = groupedObjects.get(key);\n        }\n        return result;\n    };\n\n    function getRhymeUrl(rel_rhy) {\n        return 'https://api.datamuse.com/words?rel_rhy='+input;\n    }\n\n    const datamuseRequest = (url, callback) => {\n        setOutput(()=>{\n            return <p>...Loading</p>\n        });\n        fetch(url)\n            .then((response) => response.json())\n            .then((data) => {\n\n                callback(data);\n            }, (err) => {\n                console.error(err);\n            });\n    };\n\n    function generateWords(term) {\n        const wordlist = term.map((words)=>{\n            return <li key={\"wd\"+words.word}>{words.word} <button onClick={()=>addToSavedWords(words.word)} type=\"button\" className=\"btn btn-secondary\">(save)</button> </li>\n        });\n        return wordlist;\n    }\n\n    const rhyme = (result) => {\n        const groupOutput = groupBy(result,\"numSyllables\");\n        const wordToShow = [];\n        if (result.length !== 0) {\n            wordToShow.push(<h2 key=\"title\">Words that rhyme with {input}: </h2>);\n            Object.entries(groupOutput).map(([numSyllables,items],index)=>{\n                // console.log(\"@@@@\",items);\n                wordToShow.push(\n                    <div key={index}>\n                        <h3 key={'title'+index}>Syllables: {numSyllables} </h3>\n                        <ul key={'ul'+index}>\n                            {generateWords(items)}\n                        </ul>\n                    </div>\n                )\n            })\n        } else {\n            wordToShow.push(<p>(no results)</p>);\n        }\n        setOutput(wordToShow);\n    };\n\n    function addToSavedWords(item) {\n        setSaved((previousList)=> {\n            // console.log(previousList)\n            return [...previousList,item]\n        })\n    };\n\n    return (\n        <>\n            <div className=\"row\">\n                <WordList wordList={saved}/>\n            </div>\n            <div className=\"row\">\n                <div className=\"input-group col\">\n                    <input className=\"form-control\" type=\"text\" placeholder=\"Enter a word\"\n                           onChange={(e)=>{\n                               setInput(e.target.value);\n                               // console.log(e.target.value);\n                           }}\n\n                           onKeyDown={(e) => {\n                               if (e.key===\"Enter\"){\n                                   // console.log(inputWords);\n                                   // console.log(`https://api.datamuse.com/words?rel_rhy=${inputWords}`);\n                                   datamuseRequest(getRhymeUrl(input),rhyme);\n                               }}}\n                    />\n                    <RhymeButton\n                        input={input}\n                        rhyme={rhyme}\n                        datamuseRequest={datamuseRequest}\n                        getRhymeUrl={getRhymeUrl}\n                    />\n                    <SynonymsButton\n                        input={input}\n                        datamuseRequest={datamuseRequest}\n                        generate={generateWords}\n                        OutputList={setOutput}\n                    />\n                </div>\n            </div>\n            <div className=\"row\">\n                <h2 className=\"col\"></h2>\n            </div>\n            <div className=\"output row\">\n                <output className=\"col\">{output}</output>\n            </div>\n        </>\n    )\n}\n\nexport default OutputList;"]},"metadata":{},"sourceType":"module"}